#Author: ichivite@esri.com

import os, arcpy
path = r"\\boson\TestFiles\SD"
serverConnection = r"D:\tests\dlaw.ags"
dirList=os.listdir(path)
print "This script publishes all Service Definitions at " + path + " into " + serverConnection

for fname in dirList:
    if '.sd' in fname:
        print " Publishing " + fname
        try:
            arcpy.UploadServiceDefinition_server(path + '/' + fname, serverConnection)
        except Exception, err:
            print "    ... publishing failed."

s = input ("Done!")
